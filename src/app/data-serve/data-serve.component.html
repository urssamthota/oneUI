<!-- <mat-form-field appearance="standard">
  <mat-label>Filter</mat-label>
  <input matInput placeholder="Ex. Mia" #input>
</mat-form-field> -->

<div class="mat-elevation-z8">
  <!-- <span class="example-spacer"></span> -->
  <div class="example-button-row" align="left">
    <button mat-flat-button color="primary" (click)="addData()">+. Request</button>
    <!-- <span class="material-icons-round">
      add_circle_outline
      </span> -->
    <!-- <button mat-flat-button>Basic</button>
  <button mat-flat-button (click)="getSelectedRows()">Add</button>
  <button mat-flat-button color="primary" (click)="updateRow()" [disabled]="!(selection.selected.length == 1)">Edit</button>
  <button mat-flat-button color="accent" [disabled]="!(selection.selected.length == 1)">Approve</button>
  <button mat-flat-button color="warn" (click)="removeSelectedRows()" [disabled]="(selection.selected.length < 1)">Delete</button>
  <a mat-flat-button routerLink=".">Link</a> -->
  </div>
  <table mat-table [dataSource]="this.dataMainService.dataListView" matSort multiTemplateDataRows>

    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> #ID </th>
      <td mat-cell *matCellDef="let row"> {{row.id}} </td>
    </ng-container>

    <ng-container matColumnDef="apptower">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> App Tower </th>
      <td mat-cell *matCellDef="let row"> {{row.apptower}} </td>
    </ng-container>

    <ng-container matColumnDef="changeid">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Change ID </th>
      <td mat-cell *matCellDef="let row"> {{row.changeid}} </td>
    </ng-container>

    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
      <td mat-cell *matCellDef="let row"> {{row.status}} </td>
    </ng-container>

    <ng-container matColumnDef="productname">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Product Name </th>
      <td mat-cell *matCellDef="let row"> {{row.productname}} </td>
    </ng-container>

    <ng-container matColumnDef="appname">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> App Name </th>
      <td mat-cell *matCellDef="let row"> {{row.appname}} </td>
    </ng-container>

    <ng-container matColumnDef="envtype">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Environment </th>
      <td mat-cell *matCellDef="let row"> {{row.envtype}} </td>
    </ng-container>    

    <ng-container matColumnDef="site" hidden=true>
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Site </th>
      <td mat-cell *matCellDef="let row"> {{row.site}} </td>
    </ng-container>
    
    <ng-container matColumnDef="defectlist" hidden>
      <th mat-header-cell *matHeaderCellDef mat-sort-header> defectlist </th>
      <td mat-cell *matCellDef="let row"> {{row.defectlist}} </td>
    </ng-container>
    
    <ng-container matColumnDef="tags" hidden>
      <th mat-header-cell *matHeaderCellDef mat-sort-header> tags </th>
      <td mat-cell *matCellDef="let row"> {{row.tags}} </td>
    </ng-container>
    
    <ng-container matColumnDef="release" hidden>
      <th mat-header-cell *matHeaderCellDef mat-sort-header> release </th>
      <td mat-cell *matCellDef="let row"> {{row.release}} </td>
    </ng-container>
    
    <ng-container matColumnDef="dobuild" hidden>
      <th mat-header-cell *matHeaderCellDef mat-sort-header> dobuild </th>
      <td mat-cell *matCellDef="let row"> {{row.dobuild}} </td>
    </ng-container>
    
    <ng-container matColumnDef="dodeploy" hidden>
      <th mat-header-cell *matHeaderCellDef mat-sort-header> dodeploy </th>
      <td mat-cell *matCellDef="let row"> {{row.dodeploy}} </td>
    </ng-container>

    <ng-container matColumnDef="doscan" hidden>
      <th mat-header-cell *matHeaderCellDef mat-sort-header> doscan </th>
      <td mat-cell *matCellDef="let row"> {{row.doscan}} </td>
    </ng-container>

    <ng-container matColumnDef="dota" hidden>
      <th mat-header-cell *matHeaderCellDef mat-sort-header> dota </th>
      <td mat-cell *matCellDef="let row"> {{row.dota}} </td>
    </ng-container>
    
    <ng-container matColumnDef="dounittest" hidden>
      <th mat-header-cell *matHeaderCellDef mat-sort-header> dounittest </th>
      <td mat-cell *matCellDef="let row"> {{row.dounittest}} </td>
    </ng-container>
    
    <ng-container matColumnDef="dobackout" hidden>
      <th mat-header-cell *matHeaderCellDef mat-sort-header> dobackout </th>
      <td mat-cell *matCellDef="let row"> {{row.dobackout}} </td>
    </ng-container>
    
    <ng-container matColumnDef="buildassettypes" hidden>
      <th mat-header-cell *matHeaderCellDef mat-sort-header> buildassettypes </th>
      <td mat-cell *matCellDef="let row"> {{row.buildassettypes}} </td>
    </ng-container>
    
    <ng-container matColumnDef="deployassettypes" hidden>
      <th mat-header-cell *matHeaderCellDef mat-sort-header> deployassettypes </th>
      <td mat-cell *matCellDef="let row"> {{row.deployassettypes}} </td>
    </ng-container>

    <ng-container matColumnDef="postdeployassettypes" hidden>
      <th mat-header-cell *matHeaderCellDef mat-sort-header> postdeployassettypes </th>
      <td mat-cell *matCellDef="let row"> {{row.postdeployassettypes}} </td>
    </ng-container>

    <ng-container matColumnDef="frameworkoptions" hidden>
      <th mat-header-cell *matHeaderCellDef mat-sort-header> frameworkoptions </th>
      <td mat-cell *matCellDef="let row"> {{row.frameworkoptions}} </td>
    </ng-container>

    <ng-container matColumnDef="action">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Action </th>
      <td mat-cell *matCellDef="let row; let i = dataIndex;">
        <!-- <button mat-icon-button matTooltip="Click to Edit" color="primary" (click)="rowAction(row, i, 'edit')"> -->
        <button mat-icon-button matTooltip="Edit Request" color="primary" (click)="updateRow(i, row)">
          <mat-icon> border_color</mat-icon>
        </button>
        <button mat-icon-button matTooltip="Delete Request" color="warn" (click)="removeData(i,row)">
          <mat-icon>delete_outline</mat-icon>
        </button>
        <button mat-icon-button matTooltip="Approve the deployment" color="accent" (click)="approveRequest(i, row)">
          <mat-icon>add_task</mat-icon>
          <span> - {{i}}</span>
        </button>
      </td>
    </ng-container>

    <!-- <ng-container matColumnDef="action">
      <mat-header-cell *matHeaderCellDef mat-sort-header> Action </mat-header-cell>
      <mat-cell *matCellDef="let element"> <button mat-icon-button matTooltip="Click to Delete" class="iconbutton"
          color="warn">
          <mat-icon>delete</mat-icon>
        </button> </mat-cell>
    </ng-container> -->

    <!-- <ng-container matColumnDef="select">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>
        <mat-checkbox 
                    (change)="$event ? masterToggle() : null"
                    [checked]="selection.hasValue() && isAllSelected()"
                    [indeterminate]="selection.hasValue() && !isAllSelected()"
                    [aria-label]="checkboxLabel()">
      </mat-checkbox>
    </th>
      <td mat-cell *matCellDef="let row; let i = index"> 
        <mat-checkbox (click)="$event.stopPropagation()"
                    (click)="getSelectedRow(i, row)"
                    (change)="$event ? selectRow($event, row, i) : null"
                    (change)="$event ? selection.toggle(row) : null"
                    [value]="row.position"
                    [checked]="selection.isSelected(row)"
                    [aria-label]="checkboxLabel(row)">
      </mat-checkbox>
      </td>
    </ng-container> -->

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns; let i = dataIndex"></tr>

    <!-- Row shown when there is no matching data. -->
    <tr class="mat-row" *matNoDataRow>
      <!-- <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td> -->
      <td class="mat-cell" colspan="4">No data matching the filter</td>
    </tr>
  </table>
  <!-- <pre>{{dataSource.length}}</pre> -->
  <!-- <pre>{{dataSource|json}}</pre> -->
  <!-- <pre>{{dataSource.data|json}}</pre> -->
  <!-- <pre>{{selection.selected.length}}</pre> -->
  <!-- <pre>{{dataSource1 | json}}</pre> -->
  <!-- <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of users"></mat-paginator> -->
</div>